# 哈工大操作系统-L14CPU调度策略

[TOC]



## 0.为何需要调度？

<img src="E:\AAAAAAAuniPPT\4_1PPT\CSclass-OS(git)\学习笔记\${图片}\image-20210806151851311.png" alt="image-20210806151851311" style="zoom:50%;" />

- 有一堆进程可选的情况下，选哪一个就成了问题

## 1.如何评价调度算法的好坏

- **周转时间-**-从任务被提交到系统到这个任务被执行完毕
  - 等待进入内存的时间,在就绪队列中等待的时间,在 CPU中执行的时间和I/O操作的时间的总和
- **响应时间-**-从操作开始到响应
- **吞吐量-**-系统完成的任务量(系统的内耗即**消耗在调度上的时间小，吞吐量大**)

但是指标需要折中....因此需要综合考量

### 1.1吞吐量和响应时间的矛盾

响应时间小---导致-->切换次数多---导致-->系统内耗大---导致-->吞吐量小

### 1.2前台任务和后台任务的关注点不同

+ 前台任务关注响应时间
+ 后台任务关注周转时间

## 2.调度算法0--先来先服务(FCFS: First Come, First Served)

<img src="E:\AAAAAAAuniPPT\4_1PPT\CSclass-OS(git)\学习笔记\${图片}\image-20210806154038972.png" alt="image-20210806154038972" style="zoom:50%;" />

## 3.调度算法1--短作业优先(SJF)--平均周转时间最短

上述我们可以发现，先来先服务的周转时间太长，如果我们把短的服务提前，我们可以得到一个较小的平均周转时间。因此引申出了SJF短作业优先。

<img src="E:\AAAAAAAuniPPT\4_1PPT\CSclass-OS(git)\学习笔记\${图片}\image-20210806154538706.png" alt="image-20210806154538706" style="zoom:50%;" />

## 4.调度算法2--时间片轮转(RR:round robin)--考虑响应时间

SJF会导致有些作业的响应时间无法接受，因此需要考虑响应时间。

<img src="E:\AAAAAAAuniPPT\4_1PPT\CSclass-OS(git)\学习笔记\${图片}\image-20210806154757945.png" alt="image-20210806154757945" style="zoom:50%;" />

## 5.很多问题需要折中

<img src="E:\AAAAAAAuniPPT\4_1PPT\CSclass-OS(git)\学习笔记\${图片}\image-20210806155332148.png" alt="image-20210806155332148" style="zoom:50%;" />

<img src="E:\AAAAAAAuniPPT\4_1PPT\CSclass-OS(git)\学习笔记\${图片}\image-20210806155354080.png" alt="image-20210806155354080" style="zoom:50%;" />

我们知道RR可以有满意的响应时间，因此适合前台任务；而SJF可以有最短的周转时间，因此适合后台任务。

- 但如果前台RR后台SJF，先完成前台再完成后台；会导致后台任务饥饿(即一直得不到执行)
- 如果我们设计优先级，后台不执行的优先级可以慢慢升高，但后台任务使用SJF，一旦执行时间长，前台任务的响应时间就爆炸了。所以还是需要为后台任务设计时间片。
- 因此，如何基于RR设计适合前台后台任务的调度，又如何区分任务是前后台，成为问题

问题在下节课的调度算法会讲到

